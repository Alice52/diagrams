<svg host="65bd71144e"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2042px" height="642px" viewBox="-0.5 -0.5 2042 642" content="&lt;mxfile&gt;&lt;diagram id=&quot;FpIcHcLo684fu0GIaBzI&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;">
  <defs/>
  <g>
    <path d="M 55.03 440 L 55.03 430.02 Q 55.03 420.03 55.03 422.52 L 55.03 423.76 Q 55.03 425 55.02 418.18 L 55.01 411.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 55 406.12 L 58.51 413.11 L 55.01 411.37 L 51.51 413.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 110 465 L 163.63 465" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 168.88 465 L 161.88 468.5 L 163.63 465 L 161.88 461.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 110 465 L 130 465 Q 140 465 140 475 L 140 605 Q 140 615 150 615 L 163.63 615" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 168.88 615 L 161.88 618.5 L 163.63 615 L 161.88 611.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="0" y="440" width="110" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 465px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                zookeeper
                <br/>
                                目录树结构
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="55" y="469" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    zookeeper...
        </text>
      </switch>
    </g>
    <path d="M 55 360 L 55.02 350.02 Q 55.03 340.03 55.03 342.52 L 55.03 343.76 Q 55.03 345 55.02 338.18 L 55.01 331.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 55 326.12 L 58.51 333.11 L 55.01 331.37 L 51.51 333.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <ellipse cx="55" cy="382.5" rx="47.5" ry="22.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 93px; height: 1px; padding-top: 383px; margin-left: 9px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                分布式协调服务
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="55" y="386" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    分布式协调服务
        </text>
      </switch>
    </g>
    <path d="M 540 10 L 1031 10 L 1040 19 L 1040 220 L 540 220 L 540 10 Z" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 1031 10 L 1031 19 L 1040 19" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 498px; height: 1px; padding-top: 115px; margin-left: 542px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                1. 功能: 配置{node 1M}, 分组{path}, 命名{序列号}, 同步{临时节点}[分布式锁]
                <br/>
                                2. 设计目标:
                <br/>
                                - 简单: 通过共享的分层命名空间相互协调{类似文件系统}
                <br/>
                                - [内存]: 高性能 &amp;
                <font color="#ff0080">
                                    高可用
                </font>
                                &amp; 有序访问  ==&gt; 高吞吐量 &amp; 低延迟
                <br/>
                                - 集群{复制}: 可用状态 &amp; 不可用状态{恢复到可用状态只需要200ms}
                <br/>
                                3. zk 的担保
                <br/>
                                - 顺序一致性
                <br/>
                                - 原子性: 所有服务都成功/失败
                <br/>
                                - 单系统镜像
                <br/>
                                - 可靠性: 日志持久化
                <br/>
                                - 即时性: 调用 A 服务, 会返回最新的数据{内部回去同步}
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="542" y="119" fill="#666600" font-family="Helvetica" font-size="14px">
                    1. 功能: 配置{node 1M}, 分组{path}, 命名{序列号}, 同步{临时节点}[分布式锁]...
        </text>
      </switch>
    </g>
    <path d="M 70 40 L 199 40 L 210 51 L 210 180 L 70 180 L 70 40 Z" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 199 40 L 199 51 L 210 51" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 110px; margin-left: 71px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                集群结
                <font style="font-size: 12px">
                                    构
                  <br/>
                  <div style="text-align: left">
                    <font>
                                            1. 主从集
                    </font>
                    <span style="font-size: 14px">
                                            群
                    </span>
                  </div>
                </font>
                <div style="text-align: left">
                  <span>
                                        2. 主主集群
                  </span>
                </div>
                <div style="text-align: left">
                  <span>
                                        3. 无主集群
                  </span>
                </div>
                                集群数据
                <br/>
                <div style="text-align: left">
                  <span>
                                        1. 复制集群: 全量
                  </span>
                </div>
                <div style="text-align: left">
                  <span>
                                        2. 分片集群
                  </span>
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="140" y="114" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    集群结构1. 主从集群...
        </text>
      </switch>
    </g>
    <rect x="1140" y="1" width="370" height="255" rx="7.65" ry="7.65" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/>
    <ellipse cx="1240" cy="223" rx="25" ry="25" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 223px; margin-left: 1216px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                client
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1240" y="227" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client
        </text>
      </switch>
    </g>
    <ellipse cx="1410" cy="223" rx="25" ry="25" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 223px; margin-left: 1386px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                client
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1410" y="227" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client
        </text>
      </switch>
    </g>
    <rect x="1295" y="28" width="70" height="50" rx="7.5" ry="7.5" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 53px; margin-left: 1296px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                leader
                <br/>
                <font color="#ff0080">
                                    单点
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1330" y="57" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    leader...
        </text>
      </switch>
    </g>
    <path d="M 1220 78 L 1220 118.03 Q 1220 128.03 1230 128.03 L 1320 128.03 Q 1330 128.03 1330 118.03 L 1330 84.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1330 79.12 L 1333.5 86.12 L 1330 84.37 L 1326.5 86.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 127px; margin-left: 1267px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                write
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1267" y="131" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    write
        </text>
      </switch>
    </g>
    <rect x="1185" y="28" width="70" height="50" rx="7.5" ry="7.5" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 53px; margin-left: 1186px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                follower
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1220" y="57" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    follower
        </text>
      </switch>
    </g>
    <path d="M 1240 198 L 1240 148.03 Q 1240 138.03 1230 138.03 L 1175.03 138.03 Q 1165.03 138.03 1165.03 128.03 L 1165.03 63 Q 1165.03 53 1171.83 53 L 1178.63 53" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1183.88 53 L 1176.88 56.5 L 1178.63 53 L 1176.88 49.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1440 78 L 1440 118.03 Q 1440 128.03 1430 128.03 L 1340 128.03 Q 1330 128.03 1330 118.03 L 1330 84.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1330 79.12 L 1333.5 86.12 L 1330 84.37 L 1326.5 86.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 128px; margin-left: 1375px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                write
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1375" y="132" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    write
        </text>
      </switch>
    </g>
    <rect x="1405" y="28" width="70" height="50" rx="7.5" ry="7.5" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 53px; margin-left: 1406px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                follower
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1440" y="57" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    follower
        </text>
      </switch>
    </g>
    <path d="M 1410 198 L 1410 148.03 Q 1410 138.03 1420 138.03 L 1485.03 138.03 Q 1495.03 138.03 1495.03 128.03 L 1495.03 63 Q 1495.03 53 1488.2 53 L 1481.37 53" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1476.12 53 L 1483.12 49.5 L 1481.37 53 L 1483.12 56.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1330 198 L 1330 84.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1330 79.12 L 1333.5 86.12 L 1330 84.37 L 1326.5 86.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <ellipse cx="1330" cy="223" rx="25" ry="25" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 223px; margin-left: 1306px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                client
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1330" y="227" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client
        </text>
      </switch>
    </g>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 11px; margin-left: 1320px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">
                <font color="#ff0080">
                                    读发生在任意节点, 写只能发生在主节点
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1320" y="15" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    读发生在任意节点, 写只能发生在主节点
        </text>
      </switch>
    </g>
    <rect x="1197.5" y="160" width="85" height="21" rx="3.15" ry="3.15" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 83px; height: 1px; padding-top: 171px; margin-left: 1199px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                session
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1240" y="174" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    session
        </text>
      </switch>
    </g>
    <rect x="1615" y="1" width="370" height="255" rx="7.65" ry="7.65" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/>
    <ellipse cx="1715" cy="222" rx="25" ry="25" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 222px; margin-left: 1691px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                client
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1715" y="226" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client
        </text>
      </switch>
    </g>
    <ellipse cx="1885" cy="222" rx="25" ry="25" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 222px; margin-left: 1861px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                client
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1885" y="226" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client
        </text>
      </switch>
    </g>
    <rect x="1660" y="27" width="70" height="50" rx="7.5" ry="7.5" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 52px; margin-left: 1661px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                follower
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1695" y="56" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    follower
        </text>
      </switch>
    </g>
    <path d="M 1715 197 L 1715.03 147 Q 1715.03 137 1705.03 137 L 1650 137 Q 1640 137 1640 127 L 1640 62.03 Q 1640 52.03 1646.82 52.02 L 1653.63 52.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1658.88 52 L 1651.89 55.51 L 1653.63 52.01 L 1651.88 48.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="1880" y="27" width="70" height="50" rx="7.5" ry="7.5" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 52px; margin-left: 1881px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                follower
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1915" y="56" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    follower
        </text>
      </switch>
    </g>
    <path d="M 1885 197 L 1885.03 147 Q 1885.03 137 1895.03 137 L 1960 137 Q 1970 137 1970 127 L 1970 62.03 Q 1970 52.03 1963.18 52.02 L 1956.37 52.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1951.12 52 L 1958.12 48.51 L 1956.37 52.01 L 1958.11 55.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <ellipse cx="1805" cy="222" rx="25" ry="25" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 222px; margin-left: 1781px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                client
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1805" y="226" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client
        </text>
      </switch>
    </g>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 52px; margin-left: 1800px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">
                <font color="#ff0080">
                                    无主状态
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                                    可以快速恢复可用状态
                  <br/>
                                    200ms 下就可以选举出新leader
                  <br/>
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1800" y="56" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    无主状态可以快速恢复可用状态200ms 下就可以选举出新leader...
        </text>
      </switch>
    </g>
    <path d="M 1510 128.5 L 1608.63 128.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1613.88 128.5 L 1606.88 132 L 1608.63 128.5 L 1606.88 125 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 129px; margin-left: 1566px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                leader 故障
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1566" y="132" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    leader 故障
        </text>
      </switch>
    </g>
    <path d="M 1615 64.75 L 1516.37 64.75" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 1511.12 64.75 L 1518.12 61.25 L 1516.37 64.75 L 1518.12 68.25 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 280 465 L 305.03 465 Q 315.03 465 315.03 455 L 315.03 415 Q 315.03 405 325.03 405 L 343.63 405" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 348.88 405 L 341.88 408.5 L 343.63 405 L 341.88 401.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 280 465 L 305.03 465 Q 315.03 465 315.03 475 L 315.03 505 Q 315.03 515 325.03 515 L 343.63 515" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 348.88 515 L 341.88 518.5 L 343.63 515 L 341.88 511.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="170" y="440" width="110" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 465px; margin-left: 171px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                node
                <br/>
                                可以存1M数据
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="225" y="469" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    node...
        </text>
      </switch>
    </g>
    <rect x="350" y="380" width="110" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 405px; margin-left: 351px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                持久节点
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="405" y="409" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    持久节点
        </text>
      </switch>
    </g>
    <path d="M 460 515 L 533.63 515" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 538.88 515 L 531.88 518.5 L 533.63 515 L 531.88 511.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="350" y="490" width="110" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 515px; margin-left: 351px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                临时节点
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="405" y="519" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    临时节点
        </text>
      </switch>
    </g>
    <rect x="540" y="490" width="110" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 515px; margin-left: 541px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                依托 session
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="595" y="519" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    依托 session
        </text>
      </switch>
    </g>
    <ellipse cx="55" cy="302.5" rx="47.5" ry="22.5" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 93px; height: 1px; padding-top: 303px; margin-left: 9px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                尽量不要写操作
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="55" y="306" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    尽量不要写操作
        </text>
      </switch>
    </g>
    <rect x="170" y="590" width="160" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 158px; height: 1px; padding-top: 615px; margin-left: 172px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                3888: 选举
                <br/>
                                2888: leader 接受 write 请求
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="172" y="619" fill="#000000" font-family="Helvetica" font-size="12px">
                    3888: 选举...
        </text>
      </switch>
    </g>
  </g>
  <switch>
    <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
    <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
      <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
      </text>
    </a>
  </switch>
</svg>
