<svg host="65bd71144e"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1406px" height="981px" viewBox="-0.5 -0.5 1406 981" content="&lt;mxfile&gt;&lt;diagram id=&quot;UfUvGwUdnpAItkB19cfC&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;">
  <defs/>
  <g>
    <path d="M 165 40 L 165.02 65 Q 165.03 75 175.03 75 L 305.03 75 Q 315.03 75 315.03 85 L 315.03 103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 315.03 108.88 L 311.53 101.88 L 315.03 103.63 L 318.53 101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="130" y="0" width="70" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 20px; margin-left: 131px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                web
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="165" y="24" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    web
        </text>
      </switch>
    </g>
    <path d="M 315 40 L 315 103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 315 108.88 L 311.5 101.88 L 315 103.63 L 318.5 101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="280" y="0" width="70" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 20px; margin-left: 281px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                admin
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="315" y="24" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    admin
        </text>
      </switch>
    </g>
    <path d="M 490 20.03 L 700 20.03 Q 710 20.03 710 30.03 L 710 222.38" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 710 227.63 L 706.5 220.63 L 710 222.38 L 713.5 220.63 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 71px; margin-left: 708px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">
                <div style="text-align: left">
                  <span style="font-size: 12px">
                                        redis: 拥塞窗口
                  </span>
                </div>
                <font style="font-size: 12px">
                  <div style="text-align: left">
                                        key: userid+url
                  </div>
                  <div style="text-align: left">
                                        value: 次数
                  </div>
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="708" y="75" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    redis: 拥塞窗口  key: userid+url...
        </text>
      </switch>
    </g>
    <path d="M 455 40 L 455.02 65 Q 455.03 75 445.03 75 L 325.03 75 Q 315.03 75 315.02 85 L 315.01 103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 315 108.88 L 311.51 101.88 L 315.01 103.63 L 318.51 101.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="420" y="0" width="70" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 20px; margin-left: 421px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                开放平台
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="455" y="24" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    开放平台
        </text>
      </switch>
    </g>
    <path d="M 315 160 L 315 233.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 315 238.88 L 311.5 231.88 L 315 233.63 L 318.5 231.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 360 135 L 453.63 135" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 458.88 135 L 451.88 138.5 L 453.63 135 L 451.88 131.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="270" y="110" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 135px; margin-left: 271px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                负载均衡lb
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="315" y="139" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    负载均衡lb
        </text>
      </switch>
    </g>
    <path d="M 360 265 L 453.63 265" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 458.88 265 L 451.88 268.5 L 453.63 265 L 451.88 261.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 270 265 L 81.37 265" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
    <path d="M 76.12 265 L 83.12 261.5 L 81.37 265 L 83.12 268.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 315 290 L 315.02 315 Q 315.03 325 305.03 325 L 250 325 Q 240 325 240 335 L 240 353.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 240 358.88 L 236.5 351.88 L 240 353.63 L 243.5 351.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 315 290 L 315.02 315 Q 315.03 325 325.03 325 L 385.03 325 Q 395.03 325 395.03 335 L 395.03 353.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 395.03 358.88 L 391.53 351.88 L 395.03 353.63 L 398.53 351.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="270" y="240" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 265px; margin-left: 271px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                网关
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="315" y="269" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    网关
        </text>
      </switch>
    </g>
    <path d="M 570 265 L 590 265 Q 600 265 610 265.02 L 623.63 265.05" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 628.88 265.07 L 621.87 268.55 L 623.63 265.05 L 621.89 261.55 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 460 225 L 558 225 L 570 237 L 570 305 L 460 305 L 460 225 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 558 225 L 558 237 L 570 237" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 265px; margin-left: 461px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                <font style="font-size: 12px">
                                    鉴权
                  <br/>
                                    限流
                  <br/>
                                    黑白名单
                  <br/>
                                    路由转发
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="515" y="269" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    鉴权限流黑白名单路由转发...
        </text>
      </switch>
    </g>
    <path d="M 630 228.75 L 778 228.75 L 790 240.75 L 790 301.25 L 630 301.25 L 630 228.75 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 778 228.75 L 778 240.75 L 790 240.75" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 158px; height: 1px; padding-top: 265px; margin-left: 632px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                <span style="font-size: 12px">
                                    整体(集群)限流: 过滤器
                  <br/>
                </span>
                                单服务限流: aop/过滤器
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="632" y="269" fill="#666600" font-family="Helvetica" font-size="14px">
                    整体(集群)限流: 过滤器...
        </text>
      </switch>
    </g>
    <path d="M 460 112.5 L 558 112.5 L 570 124.5 L 570 157.5 L 460 157.5 L 460 112.5 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 558 112.5 L 558 124.5 L 570 124.5" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 135px; margin-left: 461px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                <font style="font-size: 12px">
                                    限流
                  <br/>
                                    黑白名单
                  <br/>
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="515" y="139" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    限流黑白名单...
        </text>
      </switch>
    </g>
    <ellipse cx="37.5" cy="265" rx="37.5" ry="27.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 73px; height: 1px; padding-top: 265px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                业务网关
                <br/>
                                服务网关
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="38" y="269" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    业务网关
服务网关
        </text>
      </switch>
    </g>
    <path d="M 195 385 L 81.37 385" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
    <path d="M 76.12 385 L 83.12 381.5 L 81.37 385 L 83.12 388.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 240 410 L 240 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 240 498.88 L 236.5 491.88 L 240 493.63 L 243.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 240 410 L 240 445 Q 240 455 250 455 L 385.03 455 Q 395.03 455 395.03 465 L 395.03 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 395.03 498.88 L 391.53 491.88 L 395.03 493.63 L 398.53 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="195" y="360" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 385px; margin-left: 196px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                业务A
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="240" y="389" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    业务A
        </text>
      </switch>
    </g>
    <path d="M 395 410 L 395 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 395 498.88 L 391.5 491.88 L 395 493.63 L 398.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 395 410 L 395.03 445 Q 395.03 455 385.03 455 L 250 455 Q 240 455 240 465 L 240 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 240 498.88 L 236.5 491.88 L 240 493.63 L 243.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="350" y="360" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 385px; margin-left: 351px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                业务B
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="395" y="389" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    业务B
        </text>
      </switch>
    </g>
    <ellipse cx="37.5" cy="385" rx="37.5" ry="27.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 73px; height: 1px; padding-top: 385px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                service
                <br/>
                                业务层
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="38" y="389" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    service...
        </text>
      </switch>
    </g>
    <path d="M 195 525 L 81.37 525" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
    <path d="M 76.12 525 L 83.12 521.5 L 81.37 525 L 83.12 528.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="195" y="500" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 525px; margin-left: 196px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                中台服务A
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="240" y="529" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    中台服务A
        </text>
      </switch>
    </g>
    <path d="M 440 525 L 470 525 Q 480 525 490 525.02 L 513.63 525.06" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 518.88 525.07 L 511.88 528.55 L 513.63 525.06 L 511.89 521.55 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="350" y="500" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 525px; margin-left: 351px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                中台服务B
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="395" y="529" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    中台服务B
        </text>
      </switch>
    </g>
    <ellipse cx="37.5" cy="525" rx="37.5" ry="27.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 73px; height: 1px; padding-top: 525px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                manager
                <br/>
                                能力层
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="38" y="529" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    manager...
        </text>
      </switch>
    </g>
    <path d="M 520 491.25 L 818 491.25 L 830 503.25 L 830 558.75 L 520 558.75 L 520 491.25 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 818 491.25 L 818 503.25 L 830 503.25" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 308px; height: 1px; padding-top: 525px; margin-left: 521px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                <div style="text-align: left">
                  <span style="font-size: 12px">
                                        1. 中台: 通用服务沉淀到底层, 增加新业务的开发能力
                  </span>
                </div>
                <span style="font-size: 12px">
                  <div style="text-align: left">
                                        2. 去中台: 互联网业务发展太快, 中台不能友好支持, 就需要改造中台{
                    <font color="#ff0080">
                                            依赖中台的业务就存在风险
                    </font>
                                        }: 不如吧所有五福都做成微服务
                  </div>
                </span>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="675" y="529" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    1. 中台: 通用服务沉淀到底层, 增加新业务的开发能力2. 去中台: 互联网业务发展太快, 中台不能友好支持, 就需要改造中台{依赖中台的业务就存在风险}: 不如吧所有五福都做成微服务
        </text>
      </switch>
    </g>
    <path d="M 940 0 L 1358 0 L 1370 12 L 1370 210 L 940 210 L 940 0 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 1358 0 L 1358 12 L 1370 12" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 428px; height: 1px; padding-top: 105px; margin-left: 942px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                <span style="font-size: 12px">
                                    1. 跨服务的查询通过业务去查: 层业务上尽量避免该问题
                  <br/>
                                    - 比如购买的商品列表{订单库} --- 购买商品详情{商品库}
                  <br/>
                                    2. 报表: 非实时的聚合数据
                  <br/>
                </span>
                <span style="font-size: 12px">
                                    3. 配置中心
                </span>
                <br style="font-size: 12px"/>
                <span style="font-size: 12px">
                                    - 方便服务配置的管理: 不能散落在各个服务里
                </span>
                <br style="font-size: 12px"/>
                <span style="font-size: 12px">
                                    - 动态的修改
                </span>
                <br style="font-size: 12px"/>
                <span style="font-size: 12px">
                                    - 灰度发布
                </span>
                <br style="font-size: 12px"/>
                <span style="font-size: 12px">
                                    - 不同环境
                </span>
                <span style="font-size: 12px">
                  <br/>
                </span>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="942" y="109" fill="#666600" font-family="Helvetica" font-size="14px">
                    1. 跨服务的查询通过业务去查: 层业务上尽量避免该问题...
        </text>
      </switch>
    </g>
    <rect x="25" y="650" width="600" height="330" rx="9.9" ry="9.9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/>
    <rect x="55" y="680" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 705px; margin-left: 56px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                服务消费者
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="100" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    服务消费者
        </text>
      </switch>
    </g>
    <path d="M 265 717.5 L 151.37 717.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 146.12 717.5 L 153.12 714 L 151.37 717.5 L 153.12 721 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 718px; margin-left: 203px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                2. 缓存
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="203" y="721" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    2. 缓存
        </text>
      </switch>
    </g>
    <rect x="265" y="680" width="130" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 705px; margin-left: 266px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                注册中心
                <br/>
                                剔除/下线/上线/续期
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="330" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    注册中心
剔除/下线/上线/续期
        </text>
      </switch>
    </g>
    <path d="M 145 692.5 L 258.63 692.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 263.88 692.5 L 256.88 696 L 258.63 692.5 L 256.88 689 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 692px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                1.拉去
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="201" y="695" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    1.拉去
        </text>
      </switch>
    </g>
    <path d="M 515 705 L 401.37 705" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 396.12 705 L 403.12 701.5 L 401.37 705 L 403.12 708.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 704px; margin-left: 465px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                注册
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="465" y="708" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    注册
        </text>
      </switch>
    </g>
    <rect x="515" y="680" width="90" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 705px; margin-left: 516px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                服务提供者
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="560" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    服务提供者
        </text>
      </switch>
    </g>
    <path d="M 100 730 L 100 750.03 Q 100 760.03 110 760.03 L 550 760.03 Q 560 760.03 560 750.03 L 560 736.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 560 731.12 L 563.5 738.12 L 560 736.37 L 556.5 738.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 760px; margin-left: 325px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                3.调用
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="325" y="764" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    3.调用
        </text>
      </switch>
    </g>
    <path d="M 115 780 L 553 780 L 565 792 L 565 960 L 115 960 L 115 780 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 553 780 L 553 792 L 565 792" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 448px; height: 1px; padding-top: 870px; margin-left: 117px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <span style="font-size: 12px">
                                    1. 注册中心挂了, 服务调用问题:
                </span>
                <span style="font-size: 12px">
                                    既可以又不可以
                </span>
                <span style="font-size: 12px">
                  <br/>
                                    - 每个服务是想注册中心获取 target 地址信息缓存到本地
                  <br/>
                                    - 本地缓存挂了之前都是可以调用的, 之后就不可以了
                  <br/>
                                    2. serviceA 调用 serviceB 挂了
                  <br/>
                                    - 服务A和服务B平级: A 不会剔除B
                  <br/>
                                    - 正常流程服务B不心跳, 注册中心将其剔除: 服务A获取不到
                  <br/>
                                    - 服务A不回剔除服务B的本地缓存(默认90s), 只会从注册中心取{全/增量拉取}
                  <br/>
                </span>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="117" y="874" fill="#666600" font-family="Helvetica" font-size="14px">
                    1. 注册中心挂了, 服务调用问题: 既可以又不可以...
        </text>
      </switch>
    </g>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 660px; margin-left: 65px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">
                <font color="#ff0080">
                                    注册中心
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="65" y="664" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    注册中心
        </text>
      </switch>
    </g>
    <rect x="905" y="650" width="500" height="310" rx="18.6" ry="18.6" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <rect x="1015" y="840" width="110" height="80" rx="12" ry="12" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <path d="M 1005 670 L 1333 670 L 1345 682 L 1345 800 L 1005 800 L 1005 670 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1333 670 L 1333 682 L 1345 682" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 735px; margin-left: 1007px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <span style="font-size: 12px">
                                    1. 服务熔断是服务的消费端
                  <br/>
                                    2. 达到熔断条件: 次数/百分比等等
                  <br/>
                                    - 10 次中有8次失败则打开熔断开关
                  <br/>
                                    3. 打开熔断开关之后则直接返回消费端的备用逻辑
                  <br/>
                                    4. 开关打开之后存在: 全开与半开的状态
                  <br/>
                                    - 打开一会{30s}后会尝试半开状态: 放一部分请求{1个}
                  <br/>
                                    - 如果成功, 则关闭熔断; 不成功则会全开{等下接着尝试}
                  <br/>
                </span>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1007" y="739" fill="#666600" font-family="Helvetica" font-size="14px">
                    1. 服务熔断是服务的消费端...
        </text>
      </switch>
    </g>
    <rect x="1235" y="855" width="90" height="50" rx="7.5" ry="7.5" fill="#f5f5f5" stroke="#666666" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 880px; margin-left: 1236px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                服务提供者
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1280" y="884" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    服务提供者
        </text>
      </switch>
    </g>
    <path d="M 1125 880 L 1228.63 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1233.88 880 L 1226.88 883.5 L 1228.63 880 L 1226.88 876.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1090 910 L 1090 940.03 Q 1090 950.03 1080 950.03 L 985.03 950.03 Q 975.03 950.03 975.03 940.03 L 975.03 830.03 Q 975.03 820.03 985.03 820.03 L 1060 820.03 Q 1070 820.03 1070 826.83 L 1070 833.63" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1070 838.88 L 1066.5 831.88 L 1070 833.63 L 1073.5 831.88 Z" fill="#9673a6" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 890px; margin-left: 975px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                熔断打开则返回
                <br/>
                                消费者自己的备用逻辑
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="975" y="893" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    熔断打开则返回
消费者自己的备用逻辑
        </text>
      </switch>
    </g>
    <path d="M 1065 880 L 1070 875 Q 1075 870 1085 870 L 1095 870 Q 1105 870 1112.07 877.07 L 1118.54 883.54 Q 1125 890 1117.93 897.07 L 1111.46 903.54 Q 1105 910 1095 910 L 1085 910 Q 1075 910 1067.93 902.93 L 1061.46 896.46 Q 1055 890 1060 885 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 890px; margin-left: 1056px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                熔断开关
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1090" y="894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    熔断开关
        </text>
      </switch>
    </g>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 860px; margin-left: 1055px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">
                <span>
                                    服务消费者
                </span>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1055" y="864" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    服务消费者
        </text>
      </switch>
    </g>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 660px; margin-left: 945px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">
                <font color="#ff0080">
                                    服务熔断
                </font>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="945" y="664" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    服务熔断
        </text>
      </switch>
    </g>
  </g>
  <switch>
    <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
    <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
      <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
      </text>
    </a>
  </switch>
</svg>
