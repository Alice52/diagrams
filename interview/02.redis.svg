<svg host="65bd71144e"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1581px" height="1042px" viewBox="-0.5 -0.5 1581 1042" content="&lt;mxfile&gt;&lt;diagram id=&quot;2moSmWCOAciQR5G0luxu&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;">
  <defs/>
  <g>
    <path d="M 120 105 L 150 105 Q 160 105 160 95 L 160 25 Q 160 15 170 15 L 193.63 15" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 198.88 15 L 191.88 18.5 L 193.63 15 L 191.88 11.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 120 105 L 150 105 Q 160 105 160 95 L 160 85 Q 160 75 170 75 L 193.63 75" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 198.88 75 L 191.88 78.5 L 193.63 75 L 191.88 71.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 120 105 L 150 105 Q 160 105 160 115 L 160 125 Q 160 135 170 135 L 193.63 135" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 198.88 135 L 191.88 138.5 L 193.63 135 L 191.88 131.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 120 105 L 150 105 Q 160 105 160 115 L 160 185 Q 160 195 170 195 L 193.63 195" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 198.88 195 L 191.88 198.5 L 193.63 195 L 191.88 191.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="0" y="80" width="120" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 105px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                01. redis 应用场景
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="60" y="109" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    01. redis 应用场景
        </text>
      </switch>
    </g>
    <rect x="200" y="0" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 15px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                5 类 value 的使用场景
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="19" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    5 类 value 的使用场景
        </text>
      </switch>
    </g>
    <path d="M 340 75 L 413.63 75" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 418.88 75 L 411.88 78.5 L 413.63 75 L 411.88 71.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="200" y="60" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 75px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                所有的使用都是缓存
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="79" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    所有的使用都是缓存
        </text>
      </switch>
    </g>
    <rect x="420" y="60" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 75px; margin-left: 421px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                有那它做为 queue 用的
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="490" y="79" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    有那它做为 queue 用的
        </text>
      </switch>
    </g>
    <rect x="200" y="120" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 135px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                为了服务无状态
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="139" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    为了服务无状态
        </text>
      </switch>
    </g>
    <path d="M 340 195 L 413.63 195" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 418.88 195 L 411.88 198.5 L 413.63 195 L 411.88 191.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="200" y="180" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 195px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                无锁化
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    无锁化
        </text>
      </switch>
    </g>
    <rect x="420" y="180" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 195px; margin-left: 421px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                分布式锁
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="490" y="199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    分布式锁
        </text>
      </switch>
    </g>
    <path d="M 120 321.33 L 150 321.33 Q 160 321.33 160 311.33 L 160 285 Q 160 275 170 275 L 193.63 275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 198.88 275 L 191.88 278.5 L 193.63 275 L 191.88 271.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 120 321.33 L 150 321.33 Q 160 321.33 160 331.33 L 160 351.33 Q 160 361.33 170 361.33 L 193.63 361.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 198.88 361.33 L 191.88 364.83 L 193.63 361.33 L 191.88 357.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="0" y="296.25" width="120" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 321px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                02. redis 线程数量
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="60" y="325" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    02. redis 线程数量
        </text>
      </switch>
    </g>
    <path d="M 340 275 L 413.63 275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 418.88 275 L 411.88 278.5 L 413.63 275 L 411.88 271.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="200" y="260" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 275px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                工作线程一直都是1个
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="279" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    工作线程一直都是1个
        </text>
      </switch>
    </g>
    <rect x="200" y="346.25" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 361px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                6.x 出现IO多线程
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="365" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    6.x 出现IO多线程
        </text>
      </switch>
    </g>
    <rect x="420" y="260" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 275px; margin-left: 421px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                作用: 输入 &amp; 计算 &amp; 输出
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="490" y="279" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    作用: 输入 &amp; 计算 &amp; 输出
        </text>
      </switch>
    </g>
    <rect x="1010" y="80" width="110" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 105px; margin-left: 1011px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                多路复用器
                <br/>
                <font color="#ff0080">
                                    不负责数据的读写
                </font>
                <br/>
                                只管理读写的事件
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1065" y="109" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    多路复用器不负责数据的读写只管理读写的事件...
        </text>
      </switch>
    </g>
    <path d="M 765 142.5 L 817.5 142.5 Q 827.5 142.5 827.5 152.5 L 827.5 175 Q 827.5 185 837.5 185 L 883.63 185" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 888.88 185 L 881.88 188.5 L 883.63 185 L 881.88 181.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <ellipse cx="737.5" cy="142.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 143px; margin-left: 711px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                C1
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="738" y="146" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    C1
        </text>
      </switch>
    </g>
    <path d="M 765 232.5 L 817.5 232.5 Q 827.5 232.5 827.5 222.5 L 827.5 195 Q 827.5 185 837.5 185 L 883.63 185" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 888.88 185 L 881.88 188.5 L 883.63 185 L 881.88 181.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <ellipse cx="737.5" cy="232.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 233px; margin-left: 711px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                C2
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="738" y="236" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    C2
        </text>
      </switch>
    </g>
    <path d="M 970 185 L 1025 185 Q 1035 185 1045 184.92 L 1093.63 184.55" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
    <path d="M 1098.88 184.51 L 1091.91 188.06 L 1093.63 184.55 L 1091.86 181.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 185px; margin-left: 1031px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">
                                单线程串行读取数据
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1031" y="189" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    单线程串行读取数据
        </text>
      </switch>
    </g>
    <path d="M 910 155 L 950 155 L 970 185 L 950 215 L 910 215 L 890 185 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 185px; margin-left: 891px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                内核
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="930" y="189" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    内核
        </text>
      </switch>
    </g>
    <path d="M 955 140 L 955 115 Q 955 105 965 105 L 1003.63 105" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
    <path d="M 1008.88 105 L 1001.88 108.5 L 1003.63 105 L 1001.88 101.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <ellipse cx="955" cy="160" rx="20" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 160px; margin-left: 936px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                epoll
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="955" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    epoll
        </text>
      </switch>
    </g>
    <path d="M 1240 50 L 1490 50 L 1510 70 L 1510 110 L 1240 110 L 1240 50 Z" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 1490 50 L 1490 70 L 1510 70" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 80px; margin-left: 1241px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                <div style="text-align: left">
                  <span>
                                        1. redis 工作线程发现有读取事件
                  </span>
                </div>
                <div style="text-align: left">
                  <span>
                                        2. 向内核读取数据
                  </span>
                </div>
                <div style="text-align: left">
                  <span>
                                        3. 将读取的数据工作: 计算(原子的) &amp; 输出
                  </span>
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1375" y="84" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    1. redis 工作线程发现有读取事件...
        </text>
      </switch>
    </g>
    <path d="M 1285 167 L 1285 148.5 Q 1285 138.5 1295 138.5 L 1365 138.5 Q 1375 138.5 1375 128.5 L 1375 116.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
    <path d="M 1375 111.12 L 1378.5 118.12 L 1375 116.37 L 1371.5 118.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <path d="M 1192.5 167 L 1192.5 115 Q 1192.5 105 1182.5 105 L 1126.37 105" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
    <path d="M 1121.12 105 L 1128.12 101.5 L 1126.37 105 L 1128.12 108.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    <rect x="1100" y="167" width="370" height="35" rx="5.25" ry="5.25" fill="#ffffff" stroke="#000000" pointer-events="all"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 185px; margin-left: 1101px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                redis 工作线程
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1285" y="188" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    redis 工作线程
        </text>
      </switch>
    </g>
    <ellipse cx="1150" cy="210" rx="20" ry="20" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 210px; margin-left: 1131px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                input
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1150" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    input
        </text>
      </switch>
    </g>
    <ellipse cx="1170" cy="210" rx="20" ry="20" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 210px; margin-left: 1151px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                计算
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1170" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    计算
        </text>
      </switch>
    </g>
    <ellipse cx="1190" cy="210" rx="20" ry="20" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 210px; margin-left: 1171px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                输出
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1190" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    输出
        </text>
      </switch>
    </g>
    <ellipse cx="1260" cy="210" rx="20" ry="20" fill="#f8cecc" stroke="#b85450" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 210px; margin-left: 1241px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                input
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1260" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    input
        </text>
      </switch>
    </g>
    <ellipse cx="1280" cy="210" rx="20" ry="20" fill="#f8cecc" stroke="#b85450" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 210px; margin-left: 1261px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                计算
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1280" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    计算
        </text>
      </switch>
    </g>
    <ellipse cx="1300" cy="210" rx="20" ry="20" fill="#f8cecc" stroke="#b85450" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 210px; margin-left: 1281px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                输出
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1300" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    输出
        </text>
      </switch>
    </g>
    <path d="M 1170 230 L 1170 255 Q 1170 265 1168.75 265 L 1168.13 265 Q 1167.5 265 1167.5 275 L 1167.5 293.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 1167.5 298.88 L 1164 291.88 L 1167.5 293.63 L 1171 291.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1285 372.5 L 1306.25 372.5 Q 1316.25 372.5 1326.25 372.53 L 1341.13 372.57" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 1346.38 372.58 L 1339.37 376.06 L 1341.13 372.57 L 1339.39 369.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1070 300 L 1276 300 L 1285 309 L 1285 445 L 1070 445 L 1070 300 Z" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1276 300 L 1276 309 L 1285 309" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 213px; height: 1px; padding-top: 373px; margin-left: 1071px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <div style="text-align: left ; font-size: 13px">
                  <font style="font-size: 13px">
                                        1. r
                  </font>
                  <font style="font-size: 12px">
                                        edis 计算是原子的: 单指令
                  </font>
                </div>
                <div style="text-align: left ; font-size: 13px">
                  <span>
                    <font style="font-size: 12px">
                                            2. pipeline 是客户端攒着, 之后一起发给 sever 执行: 原子的
                    </font>
                  </span>
                </div>
                <div style="text-align: left ; font-size: 13px">
                  <span>
                    <font style="font-size: 12px">
                                            3. lua 脚本也是原子的
                    </font>
                  </span>
                </div>
                <div style="text-align: left ; font-size: 13px">
                  <span>
                    <font style="font-size: 12px">
                                            4. 事务(不回滚) &amp; pipeline
                    </font>
                  </span>
                </div>
                <div style="text-align: left ; font-size: 13px">
                  <span>
                    <font style="font-size: 12px">
                      <span style="white-space: pre">
                      </span>
                                            - 事务是客户端发在server攒着, 某个事务执行的时候是原子的
                      <br/>
                    </font>
                  </span>
                </div>
                <div style="text-align: left ; font-size: 13px">
                  <font style="font-size: 12px">
                    <span style="white-space: pre">
                    </span>
                                        - pipeline 是客户端攒着
                  </font>
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1178" y="377" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    1. redis 计算是原子的: 单指令...
        </text>
      </switch>
    </g>
    <path d="M 1347.5 348.75 L 1490.5 348.75 L 1497.5 355.75 L 1497.5 396.25 L 1347.5 396.25 L 1347.5 348.75 Z" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1490.5 348.75 L 1490.5 355.75 L 1497.5 355.75" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 373px; margin-left: 1349px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <div style="text-align: left ; font-size: 12px">
                                    少使用事务 &amp; 事务要小且快
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1423" y="377" fill="#666600" font-family="Helvetica" font-size="14px" text-anchor="middle">
                    少使用事务 &amp; 事务要小且快
        </text>
      </switch>
    </g>
    <path d="M 720.5 535 L 720.5 525 L 1560.5 525 L 1560.5 514.5 L 1579.5 530 L 1560.5 545.5 L 1560.5 535 Z" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 530px; margin-left: 1095px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                redis 6.0 之后
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1095" y="534" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    redis 6.0 之后
        </text>
      </switch>
    </g>
    <path d="M 765 647.5 L 817.5 647.5 Q 827.5 647.5 827.5 657.5 L 827.5 680 Q 827.5 690 837.5 690 L 883.63 690" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 888.88 690 L 881.88 693.5 L 883.63 690 L 881.88 686.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <ellipse cx="737.5" cy="647.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 648px; margin-left: 711px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                C1
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="738" y="651" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    C1
        </text>
      </switch>
    </g>
    <path d="M 765 737.5 L 817.5 737.5 Q 827.5 737.5 827.5 727.5 L 827.5 700 Q 827.5 690 837.5 690 L 883.63 690" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 888.88 690 L 881.88 693.5 L 883.63 690 L 881.88 686.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <ellipse cx="737.5" cy="737.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 738px; margin-left: 711px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                C2
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="738" y="741" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    C2
        </text>
      </switch>
    </g>
    <path d="M 970 690 L 1007.5 690 Q 1017.5 690 1017.5 700 L 1017.5 742.5 Q 1017.5 752.5 1027.5 752.5 L 1058.63 752.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 1063.88 752.5 L 1056.88 756 L 1058.63 752.5 L 1056.88 749 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 708px; margin-left: 1023px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                并行多线程搬运
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1023" y="712" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    并行多线程搬运
        </text>
      </switch>
    </g>
    <path d="M 970 690 L 1007.5 690 Q 1017.5 690 1017.5 700 L 1017.5 807.5 Q 1017.5 817.5 1027.5 817.5 L 1058.63 817.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 1063.88 817.5 L 1056.88 821 L 1058.63 817.5 L 1056.88 814 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 910 660 L 950 660 L 970 690 L 950 720 L 910 720 L 890 690 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 690px; margin-left: 891px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                内核
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="930" y="694" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    内核
        </text>
      </switch>
    </g>
    <ellipse cx="955" cy="665" rx="20" ry="20" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 665px; margin-left: 936px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                epoll
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="955" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    epoll
        </text>
      </switch>
    </g>
    <path d="M 1255 625 L 1255 615 Q 1255 605 1245 605 L 965 605 Q 955 605 955 615 L 955 638.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 955 643.88 L 951.5 636.88 L 955 638.63 L 958.5 636.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 606px; margin-left: 1100px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                redis 工作线程发现 epoll 有读取事件,
                <br/>
                                就会通知IO线程去将数据搬运回来
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1100" y="610" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    redis 工作线程发现 epoll 有读取事件,...
        </text>
      </switch>
    </g>
    <path d="M 1255 660 L 1255 687.5 Q 1255 697.5 1252.5 697.5 L 1251.25 697.5 Q 1250 697.5 1250 707.5 L 1250 728.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
    <path d="M 1250 733.88 L 1246.5 726.88 L 1250 728.63 L 1253.5 726.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 695px; margin-left: 1257px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">
                                通知
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1257" y="698" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    通知
        </text>
      </switch>
    </g>
    <rect x="1070" y="625" width="370" height="35" rx="5.25" ry="5.25" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 643px; margin-left: 1071px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                redis 工作线程 x 1
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1255" y="646" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    redis 工作线程 x 1
        </text>
      </switch>
    </g>
    <path d="M 750 850 L 1151 850 L 1160 859 L 1160 1040 L 750 1040 L 750 850 Z" fill="#fff2cc" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 1151 850 L 1151 859 L 1160 859" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 945px; margin-left: 752px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666600; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <div>
                  <font style="font-size: 12px">
                                        1. 需要时多核 CPU, 进程/轻量级进程(线程) 运行在 CPU上
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        2. 多个IO线程将数据并行的读取放入堆中
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        3. 工作线程就可以使用数据进行计算: 串行(原子)
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        4. 将计算好的结果之后通过 IO 线程返回
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        5. IO 多线程可以提升吞吐量: 堆在内核中的数据被及时搬走
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        - 输入: 网卡 --&gt; 内核queue(每个客户端) --&gt; 程序空间
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        - 输出: 之前是串行的输出, 网卡没有充分利用
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        - 每个命令执行事件都会变短
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        - 更好的压榨系统的资源: CPU &amp; 网卡
                    <br/>
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        6. 客户端的读取顺序是不能保证的; 但是一个连接内的顺序是可以保证的
                  </font>
                </div>
                <div>
                  <font style="font-size: 12px">
                                        - 6.0 前后都是
                  </font>
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="752" y="949" fill="#666600" font-family="Helvetica" font-size="14px">
                    1. 需要时多核 CPU, 进程/轻量级进程(线程) 运行在 CPU上...
        </text>
      </switch>
    </g>
    <ellipse cx="1170" cy="665" rx="20" ry="20" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 665px; margin-left: 1151px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                计算
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1170" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    计算
        </text>
      </switch>
    </g>
    <ellipse cx="1230" cy="665" rx="20" ry="20" fill="#f8cecc" stroke="#b85450" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 665px; margin-left: 1211px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                计算
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1230" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    计算
        </text>
      </switch>
    </g>
    <rect x="1065" y="735" width="370" height="35" rx="5.25" ry="5.25" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 753px; margin-left: 1066px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                redis IO线程
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1250" y="756" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    redis IO线程
        </text>
      </switch>
    </g>
    <rect x="1065" y="800" width="370" height="35" rx="5.25" ry="5.25" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 818px; margin-left: 1066px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                redis IO线程 x n
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1250" y="821" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    redis IO线程 x n
        </text>
      </switch>
    </g>
    <ellipse cx="1120" cy="770" rx="20" ry="20" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 770px; margin-left: 1101px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                input
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1120" y="774" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    input
        </text>
      </switch>
    </g>
    <ellipse cx="1120" cy="830" rx="20" ry="20" fill="#f8cecc" stroke="#b85450" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 830px; margin-left: 1101px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                input
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1120" y="834" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    input
        </text>
      </switch>
    </g>
    <ellipse cx="1327.5" cy="770" rx="20" ry="20" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 770px; margin-left: 1309px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                out
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1328" y="774" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    out
        </text>
      </switch>
    </g>
    <ellipse cx="1327.5" cy="830" rx="20" ry="20" fill="#f8cecc" stroke="#b85450" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 830px; margin-left: 1309px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                out
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="1328" y="834" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    out
        </text>
      </switch>
    </g>
    <path d="M 120 475 L 150 475 Q 160 475 160 465 L 160 435 Q 160 425 170 425 L 193.63 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 198.88 425 L 191.88 428.5 L 193.63 425 L 191.88 421.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 120 475 L 150 475 Q 160 475 160 485 L 160 495 Q 160 505 170 505 L 193.63 505" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 198.88 505 L 191.88 508.5 L 193.63 505 L 191.88 501.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="0" y="450" width="120" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 475px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                03. redis 线程安全
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="60" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    03. redis 线程安全
        </text>
      </switch>
    </g>
    <path d="M 340 425 L 413.63 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 418.88 425 L 411.88 428.5 L 413.63 425 L 411.88 421.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="200" y="410" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 425px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                计算线程是串行的单线程
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="429" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    计算线程是串行的单线程
        </text>
      </switch>
    </g>
    <rect x="420" y="410" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 425px; margin-left: 421px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                redis 内部能保证线程安全
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="490" y="429" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    redis 内部能保证线程安全
        </text>
      </switch>
    </g>
    <rect x="200" y="490" width="140" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 505px; margin-left: 201px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                但是使用redis时业务上要自行保证顺序
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="270" y="509" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    但是使用redis时业务上要自行保证顺序
        </text>
      </switch>
    </g>
    <path d="M 120 650 L 165 650 Q 175 650 175 660 L 175 712.5 Q 175 722.5 185 722.5 L 223.63 722.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 228.88 722.5 L 221.88 726 L 223.63 722.5 L 221.88 719 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="0" y="625" width="120" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 650px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                04. 缓存穿透
                <br/>
                                redis 中不存在也不会被缓存的key
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="60" y="654" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    04. 缓存穿透...
        </text>
      </switch>
    </g>
    <path d="M 120 722 L 165 722 Q 175 722 185 722.09 L 223.63 722.44" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 228.88 722.49 L 221.85 725.93 L 223.63 722.44 L 221.91 718.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="0" y="697" width="120" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 722px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                05. 缓存击穿
                <br/>
                                某热点key(DB 有)
                <br/>
                                突然失效||不存在
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="60" y="726" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    05. 缓存击穿...
        </text>
      </switch>
    </g>
    <path d="M 120 795 L 165 795 Q 175 795 175 785 L 175 732.5 Q 175 722.5 185 722.5 L 223.63 722.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 228.88 722.5 L 221.88 726 L 223.63 722.5 L 221.88 719 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="0" y="770" width="120" height="50" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 795px; margin-left: 1px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                06. 缓存雪崩
                <br/>
                                大量的key
                <br/>
                                在同一时间失效
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="60" y="799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    06. 缓存雪崩...
        </text>
      </switch>
    </g>
    <path d="M 315 760 L 315 770 Q 315 780 315 775 L 315 772.5 Q 315 770 315 776.82 L 315 783.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 315 788.88 L 311.5 781.88 L 315 783.63 L 318.5 781.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 315 685 L 315 675 Q 315 665 325 665 L 385 665 Q 395 665 395 656.93 L 395 648.87" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 395 643.62 L 398.5 650.62 L 395 648.87 L 391.5 650.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 400 722.5 L 415 722.5 Q 425 722.5 434.32 722.53 L 443.63 722.56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 448.88 722.58 L 441.87 726.06 L 443.63 722.56 L 441.89 719.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="230" y="685" width="170" height="75" rx="11.25" ry="11.25" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 723px; margin-left: 231px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <div style="text-align: left">
                  <span>
                                        1. 数据库是架构的瓶颈
                  </span>
                </div>
                <div style="text-align: left">
                  <span>
                                        2. 有效的请求到达数据库
                  </span>
                </div>
                <div style="text-align: left">
                  <span>
                                        3. 即使增大前面缓解的复杂度 和成本都是可以接受的
                  </span>
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="315" y="726" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    1. 数据库是架构的瓶颈...
        </text>
      </switch>
    </g>
    <path d="M 285 597.5 L 358.63 597.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 363.88 597.5 L 356.88 601 L 358.63 597.5 L 356.88 594 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <ellipse cx="257.5" cy="597.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 598px; margin-left: 231px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                code
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="258" y="601" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    code
        </text>
      </switch>
    </g>
    <path d="M 420 597.5 L 493.63 597.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 498.88 597.5 L 491.88 601 L 493.63 597.5 L 491.88 594 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <ellipse cx="392.5" cy="597.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 598px; margin-left: 366px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                redis
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="393" y="601" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    redis
        </text>
      </switch>
    </g>
    <ellipse cx="527.5" cy="597.5" rx="27.5" ry="27.5" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 598px; margin-left: 501px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                mysql
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="528" y="601" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    mysql
        </text>
      </switch>
    </g>
    <path d="M 235 635 L 555 640 L 235 645 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="255" y="790" width="120" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 810px; margin-left: 256px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                <div style="text-align: left">
                                    各自的解决方案
                </div>
                <div style="text-align: left">
                                    java-ocean#interview
                </div>
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="315" y="814" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    各自的解决方案
java-ocean#interview
        </text>
      </switch>
    </g>
    <path d="M 545 766.25 L 545 788.17 Q 545 798.17 545.03 808.17 L 545.07 823.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <path d="M 545.08 828.88 L 541.56 821.89 L 545.07 823.63 L 548.56 821.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>
    <rect x="450" y="678.75" width="190" height="87.5" rx="13.13" ry="13.13" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 723px; margin-left: 452px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                由于 redis 是单线程串行的, 所以前期还是会有很多请求进入 queue(查询数据库做null value 在queue的后面); 之后会达到数据库
                <br/>
                                解决: CODE LOCK(
                <strike>
                                    redis 之前加锁
                </strike>
                                || redis 没有查DB加锁, DCL)
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="452" y="726" fill="#000000" font-family="Helvetica" font-size="12px">
                    由于 redis 是单线程串行的, 所以前期还是会有很多请求进入 queue(查询数据库做null value 在queu...
        </text>
      </switch>
    </g>
    <rect x="463.75" y="830" width="162.5" height="160" rx="24" ry="24" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/>
    <g transform="translate(-0.5 -0.5)">
      <switch>
        <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
          <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 161px; height: 1px; padding-top: 910px; margin-left: 466px;">
            <div style="box-sizing: border-box; font-size: 0; text-align: left; ">
              <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
                                1. 请求redis 有则直接返回;
                <br/>
                                2. 没有则大家抢锁
                <br/>
                                - 抢到了操作DB
                <br/>
                                - 更新回 redis
                <br/>
                                - 释放锁
                <br/>
                                3. 没抢到的
                <strike>
                                    自旋
                </strike>
                                等待(sleep)
                <br/>
                                - 在查询redis DCL
                <br/>
                                - sleep 线程不消耗 CPU
                <br/>
                                4. 做好 sleep 线程多的准备
                <br/>
                                - 线程池扩缩容
              </div>
            </div>
          </div>
        </foreignObject>
        <text x="466" y="914" fill="#000000" font-family="Helvetica" font-size="12px">
                    1. 请求redis 有则直接返回;...
        </text>
      </switch>
    </g>
  </g>
  <switch>
    <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
    <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
      <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
      </text>
    </a>
  </switch>
</svg>
